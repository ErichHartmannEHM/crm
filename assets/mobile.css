/* /assets/mobile.css — мобильные оверрайды и плитки
   Версия: 1.2 (компактные карточки на /admin/cards.php + фикс ПК)
*/

/* Улучшения доступности */
:root {
  --tap-size: 44px;          /* минимальный размер интерактивной зоны */
  --shadow-1: 0 6px 18px rgba(0,0,0,.25);
  --sidebar-w: 240px;        /* ширина левого меню на десктопе */
}

/* Базовые доработки: комфортные тапы и фокусы */
button, .btn, input, select, textarea { min-height: 38px; }
@media (max-width: 600px) {
  button, .btn, input, select, textarea { min-height: var(--tap-size); font-size: 15px; }
}
:focus-visible { outline: 2px solid #4dd0e1; outline-offset: 2px; }

/* =========================
   НАВИГАЦИЯ
   ========================= */

/* --- Десктоп (>=980px): статичное меню, без off-canvas --- */
@media (min-width: 980px){
  .layout{
    display: grid;
    grid-template-columns: var(--sidebar-w) 1fr;
    gap: 0;
  }
  .sidebar{
    position: sticky;
    top: 0;
    height: 100vh;
    width: var(--sidebar-w);
    transform: none !important;          /* КРИТИЧНО: никакого translateX на ПК */
    transition: none !important;
    z-index: 20;
  }
  .content{
    min-width: 0;
    margin: 0;
    padding: 16px;
  }
  .mobile-topbar, .sidebar-overlay { display: none !important; }
}

/* --- Моб/планшет (<980px): off-canvas меню + топбар --- */
@media (max-width: 979.98px) {
  .layout { display: block; }

  .sidebar {
    position: fixed;
    inset: 0 auto 0 0;
    width: 82vw;
    max-width: 320px;
    transform: translateX(-100%);
    transition: transform .25s ease;
    z-index: 1001;
    height: 100%;
  }
  .sidebar.open { transform: translateX(0); }
  .sidebar .brand { margin-top: 8px; }

  .sidebar-overlay {
    position: fixed; inset: 0;
    background: rgba(2,6,23,.55);
    backdrop-filter: blur(1.5px);
    opacity: 0; pointer-events: none;
    transition: opacity .2s ease;
    z-index: 1000;
  }
  .sidebar-overlay.show { opacity: 1; pointer-events: auto; }

  .mobile-topbar {
    position: fixed; top: 0; left: 0; right: 0;
    height: 52px; display: flex; align-items: center; gap: 12px;
    padding: 0 12px; background: #11151c; border-bottom: 1px solid #1f2530; z-index: 1002;
  }
  .mobile-topbar .burger{ width: 40px; height: 40px; border-radius: 10px; border: 1px solid #2a3342; background: #0f131a; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; }
  .mobile-topbar .burger span{ display:block; width:18px; height:2px; margin:2px 0; background:#cbd5e1; }
  .mobile-topbar .topbar-title{ font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

  .content{ max-width:100%; padding:12px; margin-top:52px; }
}

/* =========================
   Сетки и карточки (общие)
   ========================= */
@media (max-width: 1100px) { .grid.cols-3 { grid-template-columns: 1fr 1fr; } }
@media (max-width: 720px)  { .grid.cols-3, .grid.cols-2 { grid-template-columns: 1fr; } }
.card { box-shadow: none; }
@media (max-width: 720px) { .card { border-color: #232a36; } }

.form-row { display:flex; gap:12px; flex-wrap:wrap; }
.form-row > * { flex: 1 1 180px; }
@media (max-width: 720px){ .form-row > * { flex-basis:100%; } }
.inline-select select { width:100%; }
.small-input { width:100%; max-width:none; }
@media (max-width: 600px){ .icon-btn { width: var(--tap-size); height: var(--tap-size); } }

/* =========================
   /admin/cards.php — Компактные карточки
   ========================= */

/* Базовая плиточная раскладка */
@media (max-width: 1100px){
  .card > .table-wrap { overflow: visible; }
  .table-cards { display:block; border:0; min-width:0 !important; }
  .table-cards thead { display:none; }
  .table-cards tbody{
    display:grid; gap:12px;
    grid-template-columns: 1fr 1fr;         /* сетка списка: 2 карточки в ряд на планшете */
  }
}
@media (max-width: 820px){
  .table-cards tbody{ grid-template-columns: 1fr; } /* телефоны — по одной карточке */
}

/* Сама карточка */
@media (max-width: 1100px){
  .table-cards tbody tr{
    position: relative;
    display:grid;
    /* ключ: внутри карточки 2 колонки для плотной компоновки */
    grid-template-columns: minmax(0,1fr) minmax(0,1fr);
    background: var(--panel, #0f131a);
    border:1px solid #222; border-radius:12px;
    padding:10px 12px;
    box-shadow: var(--shadow-1);
  }
  .table-cards tbody tr > td{
    display:grid; grid-template-columns: 110px 1fr;      /* лейбл + значение */
    gap:6px; padding:4px 0; border:0; vertical-align:top;
  }
  .table-cards tbody tr > td::before{
    content:''; color: var(--muted, #8b93a7);
    font-size:11px; line-height:1.1; padding-top:2px; white-space:nowrap;
  }

  /* короткие подписи */
  .table-cards tbody tr > td:nth-child(2)::before { content:"Команда"; }
  .table-cards tbody tr > td:nth-child(3)::before { content:"Работник"; }
  .table-cards tbody tr > td:nth-child(4)::before { content:"Банк"; }
  .table-cards tbody tr > td:nth-child(5)::before { content:"Номер"; }
  .table-cards tbody tr > td:nth-child(6)::before { content:"Лимит"; }
  .table-cards tbody tr > td:nth-child(7)::before { content:"Баланс"; }
  .table-cards tbody tr > td:nth-child(8)::before { content:"Статус"; }
  .table-cards tbody tr > td:nth-child(9)::before { content:"Действия"; }

  /* компактнее текст */
  .table-cards tbody tr > td > * { overflow-wrap:anywhere; }
  .table-cards tbody tr .pan-line { flex-wrap:wrap; row-gap:2px; }
  .table-cards tbody tr .bank-badge { white-space:nowrap; }
}

/* ВАЖНО: #ID чип в правом верхнем углу, саму колонку ID скрываем */
@media (max-width: 1100px){
  .table-cards tbody tr > td:nth-child(1){ display:none; }              /* прячем TD с ID */
  .table-cards tbody tr::after{
    content:"# " attr(data-card-id);
    position:absolute; top:8px; right:10px;
    font-size:11px; color:#94a3b8;
    background:#0b1220; border:1px solid #1f2937; border-radius:8px;
    padding:2px 6px;
  }
}

/* Раскладка по зонам (2 колонки внутри карточки) */
@media (max-width: 1100px){
  /* Команда → Баер — на всю ширину, лейбл над значением */
  .table-cards tbody tr > td:nth-child(2){
    grid-column: 1 / -1;
    grid-template-columns: 1fr;
  }

  /* Работник | Банк — в одну строку, по колонке */
  .table-cards tbody tr > td:nth-child(3){ grid-column: 1 / 2; }
  .table-cards tbody tr > td:nth-child(4){ grid-column: 2 / 3; }

  /* PAN — на всю ширину */
  .table-cards tbody tr > td:nth-child(5){ grid-column: 1 / -1; }

  /* Лимит — на всю ширину и максимально компактный вид */
  .table-cards tbody tr > td:nth-child(6){
    grid-column: 1 / -1;
  }

  /* Баланс | Статус — в одной строке */
  .table-cards tbody tr > td:nth-child(7){ grid-column: 1 / 2; }
  .table-cards tbody tr > td:nth-child(8){ grid-column: 2 / 3; }

  /* Действия — на всю ширину */
  .table-cards tbody tr > td:nth-child(9){ grid-column: 1 / -1; }
}

/* Компактность лимит-блока */
@media (max-width: 1100px){
  .limit-cell .progress-box{ width:100% !important; height:6px; margin-top:2px; }
  .limit-cell .limit-text{ font-size:11px; margin-top:4px; color:#94a3b8; }
  .limit-cell .rem-form{
    margin-top:6px;
    display:grid; grid-template-columns: auto auto; gap:8px;
    align-items:center;
  }
  .lim
